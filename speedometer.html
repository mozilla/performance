<!DOCTYPE html>
<html lang="en">

<head>
  <title>Speedometer 3 Status Dashboard</title>

  <link href="https://fonts.googleapis.com/css2?family=Zilla+Slab:wght@400;700&display=swap" rel="stylesheet">
  <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css" rel="stylesheet">
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <link rel="stylesheet" href="assets/main-ui-style.css">

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation/dist/chartjs-plugin-annotation.min.js"></script>

  <script src="assets/speedometer-metrics.js"></script>
  <style>
    body {
      background-color: #f0f0f0;
    }

    h3 {
      font-family: sans-serif;
    }

    .styled-table {
      border-collapse: collapse;
      margin: 25px 0;
      font-size: 0.9em;
      font-family: sans-serif;
      min-width: 400px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
    }

      .styled-table thead th {
        background-color: #3366ff;
        color: #ffffff;
        text-align: center;
      }

      .styled-table th {
        padding: 12px 20px;
      }

      .styled-table td {
        text-align: right;
        padding: 12px 20px;
      }

      .styled-table .testName {
        text-align: left;
        padding-left: 20px;
      }

    .tableBody tr {
      border-bottom: 1px solid #dddddd;
    }

    .tableBody .sumRow {
      border-top: 2px solid black;
    }

    .tableBody tr:nth-of-type(odd) {
      background-color: #f3f3f3;
    }

    .tableBody tr:nth-of-type(even) {
      background-color: #e3e3e3;
    }

    .tableBody tr:hover {
      background-color: #d0d0d0;
    }

    .buttons td {
      width: 250px;
      text-align: center;
      font-family: sans-serif;
      font-size: 20px;
    }

    a {
      padding-left: 30px;
      padding-right: 30px;
      padding-top: 10px;
      padding-bottom: 10px;
      text-decoration: none;
      color: black;
      border-radius: 5px;
    }

      a:hover {
        background-color: lightgray;
      }

      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
  </style>
</head>

<body>
  <div class="top">
    <a href="javascript:history.back()" class="btn back-btn" title="Go Back">
      <i class="fa-solid fa-arrow-left"></i>
    </a>
    <div class="top-title-container">
      <div class="top-title">
        <b>moz://a</b> performance portal
      </div>
    </div>
    <a href="https://firefox-source-docs.mozilla.org/performance/reporting_a_performance_problem.html" class="btn" title="Report a Performance Bug">
      <i class="fa-solid fa-bug"></i> Report Performance Issue
    </a>
  </div>

  <div class="main-content">
    <aside class="main-sidebar" id="main-sidebar">
    </aside>

    <div class="content">
      <center>
        <table class="buttons">
          <tr><td colspan="2" style="height:50px;"><a href="speedometer.html" id="windowsbutton">Windows 11</a></td><td colspan="2" style="height:50px;"><a href="speedometer.html?os=linux" id="linuxbutton">Linux</a></td><td colspan="2" style="height:50px;"><a href="speedometer.html?os=osxm4" id="osxm4button">Mac</a></td></tr>
          <tr><td colspan="2" style="height:50px;"><a href="speedometer.html?os=android-s24" id="mobilebutton">Android (S24)</a></td><td colspan="2" style="height:50px;"><a href="speedometer.html?os=android-a55" id="mobilebutton2">Android (A55)</a></td><td colspan="2" style="height:50px;"><a href="speedometer.html?os=android-p6" id="mobilebutton3">Android (P6)</a></td></tr>
        </table>

        <h3 id="chart-title">Current Status (higher is better)</h3>

        <div style="width:100%; max-width:900px; margin: 0 auto; display: flex; justify-content: flex-end; margin-bottom: 5px;">
          <div id="all-alerts-container" style="display: none; background: #f0f0f0; padding: 8px 12px; border-radius: 4px; border: 1px solid #ccc;">
            <label style="font-size: 13px; cursor: pointer; display: flex; align-items: center; gap: 6px; margin: 0;">
              <input type="checkbox" id="show-all-alerts" onchange="toggleAllAlerts(this.checked)" style="cursor: pointer;">
              <span>Show all subtest alerts</span>
            </label>
          </div>
          <div id="hide-alerts-container" style="display: none; background: #f0f0f0; padding: 8px 12px; border-radius: 4px; border: 1px solid #ccc;">
            <label style="font-size: 13px; cursor: pointer; display: flex; align-items: center; gap: 6px; margin: 0;">
              <input type="checkbox" id="hide-alerts" onchange="toggleHideAlerts(this.checked)" style="cursor: pointer;">
              <span>Hide alerts</span>
            </label>
          </div>
        </div>
        <div id="chart-container" style="width:100%;max-width:900px; position: relative; margin: 0 auto;">
          <canvas id="myChart" style="width:100%;max-width:900px"></canvas>
          <table class="buttons">
            <tr><td><a onclick="changeRange('all')" id="allbutton">1 year</a></td><td><a onclick="changeRange(3)" id="month3button">3 months</a></td><td><a onclick="changeRange(1)" id="month1button">1 month</a></td></tr>
          </table>
        </div>

        <br>
        <h3>Breakdown: Speedometer 3 Subtests</h3>
        <table class="styled-table" id="tableLikely" style="max-width: 1200px;">
          <col>
          <col>
          <colgroup span="2"></colgroup>
          <col>
          <colgroup span="2"></colgroup>
          <col>
          <thead>
            <tr>
              <th rowspan="2"></th>
              <th colspan="5" scope="colgroup">Value<br />7 day average</th>
              <th colspan="4">Difference vs Firefox</th>
            </tr>
            <tr>
              <th scope="col">Firefox<br />Nightly</th>
              <th scope="col">Chrome<br />Release</th>
              <th scope="col">CaR</th>
              <th scope="col">Safari<br/>Release</th>
              <th scope="col">Safari<br />TP</th>
              <th scope="col">Chrome<br />Release</th>
              <th scope="col">CaR</th>
              <th scope="col">Safari<br/>Release</th>
              <th scope="col">Safari<br />TP</th>
            </tr>
          </thead>
          <tbody class="tableBody" id="tableBodyLikely">
          </tbody>
        </table>
      </center>
    </div> <!-- content -->
  </div> <!-- main-content -->
<script src="assets/main-ui.js"></script>
</body>
</html>
